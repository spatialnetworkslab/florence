/*
  Most of this code was taken from flubber:
  https://github.com/veltman/flubber

  Unfortunately, flubber couldn't deal with polygons with holes.
  So, I took the code and modified it.
*/

import { bisect, addPoints } from 'geometryUtils/transition/transitionLogic/transitionLinearRing'
import triangulate from 'geometryUtils/transition/transitionLogic/triangulate'

export function splitOuterRing (fromShape, toShapes) {
  let fromRing = bisect(fromShape)

  if (fromRing.length < toShapes.length + 2) {
    addPoints(fromRing, toShapes.length + 2 - fromRing.length)
  }

  let fromRings = triangulate(fromRing, toShapes.length)

  return fromRings
}
